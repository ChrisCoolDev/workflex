// prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Candidature {
  id                String   @id @default(cuid())
  
  // Informations personnelles
  nom               String
  prenom            String
  email             String   @unique
  telephone         String?
  dateNaissance     String   // Format jj-mm-yyyy
  sexe              String
  
  // Adresse
  ville             String
  arrondissement    String
  quartier          String
  
  // Informations professionnelles  
  statut            String   // Étudiant(e) ou Jeune actif
  permisConduire    String
  
  // Fichiers
  cvUrl             String?  // URL du fichier dans Supabase Storage
  cvFilename        String?  // Nom original du fichier
  
  // Optionnel
  commentaire       String?
  
  // Métadonnées
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  
  @@map("candidatures")
}

model Besoin {
  id            String   @id @default(cuid())
  
  // Informations de l'employeur
  entrepriseNom   String   @map("entreprise_nom")
  email           String   @unique
  telephone       String?
  
  // Détails du besoin
  profilRecherche String   @map("profil_recherche")
  posteVaccant    String   @map("poste_vaccant")
  description     String
  duree          String
  
  // Métadonnées
  createdAt      DateTime @default(now()) @map("created_at")
  updatedAt      DateTime @updatedAt @map("updated_at")
  
  @@map("besoins")
}

